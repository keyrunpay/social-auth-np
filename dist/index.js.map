{"version":3,"file":"index.js","sources":["../utils/oauthUrlHelper.js","../methods/getOauthUrl.js","../utils/clientOauthOptionHelper.js","../methods/getClientSideOauthOption.js","../methods/parseUrl.js","../methods/getAccessToken.js","../methods/getUserInfo.js","../index.js"],"sourcesContent":["import queryString from \"query-string\";\r\nconst facebook_oauth_url = \"https://www.facebook.com/dialog/oauth\";\r\nconst google_oauth_url = \"https://accounts.google.com/o/oauth2/v2/auth\";\r\nconst github_oauth_url = \"https://github.com/login/oauth/authorize\";\r\nconst linked_in_oauth_url = \"https://www.linkedin.com/oauth/v2/authorization\";\r\n\r\nfunction getGoogleOauthUrl(options) {\r\n  const stringifiedParams = queryString.stringify(options);\r\n  return `${google_oauth_url}?${stringifiedParams}`;\r\n}\r\n\r\nfunction getFacebookOauthUrl(options) {\r\n  const stringifiedParams = queryString.stringify(options);\r\n  return `${facebook_oauth_url}?${stringifiedParams}`;\r\n}\r\n\r\nfunction getGithubOauthUrl(options) {\r\n  const stringifiedParams = queryString.stringify(options);\r\n  return `${github_oauth_url}?${stringifiedParams}`;\r\n}\r\n\r\nfunction getLinkedInOauthUrl(options) {\r\n  const stringifiedParams = queryString.stringify(options);\r\n  return `${linked_in_oauth_url}?${stringifiedParams}`;\r\n}\r\n\r\nexport { getGoogleOauthUrl, getGithubOauthUrl, getFacebookOauthUrl, getLinkedInOauthUrl };\r\n","import { getGoogleOauthUrl, getGithubOauthUrl, getFacebookOauthUrl, getLinkedInOauthUrl } from \"../utils/oauthUrlHelper\";\r\n\r\nfunction getOauthUrl(platform, options) {\r\n  if (typeof platform !== \"string\") platform = \"buggged\";\r\n  platform = platform.toLowerCase();\r\n  switch (platform) {\r\n    case \"facebook\":\r\n      return getFacebookOauthUrl(options);\r\n    case \"google\":\r\n      return getGoogleOauthUrl(options);\r\n    case \"github\":\r\n      return getGithubOauthUrl(options);\r\n    case \"linkedin\":\r\n      return getLinkedInOauthUrl(options);\r\n    default:\r\n      return \"https://buggged.com\";\r\n  }\r\n}\r\n\r\nexport default getOauthUrl;\r\n","const facebook_options = {\r\n  client_id: \"YOUR_CLIENT_ID\",\r\n  redirect_uri: \"YOUR_REDIRECT_URL\",\r\n  scope: \"email\",\r\n  response_type: \"code\",\r\n};\r\n\r\nconst google_options = {\r\n  client_id: \"YOUR_CLIENT_ID\",\r\n  redirect_uri: \"YOUR_REDIRECT_URL\",\r\n  scope: \"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile\",\r\n  response_type: \"code\",\r\n  access_type: \"offline\",\r\n  prompt: \"consent\",\r\n};\r\n\r\nconst github_option = {\r\n  client_id: \"YOUR_CLIENT_ID\",\r\n  redirect_uri: \"YOUR_REDIRECT_URL\",\r\n  scope: \"read:user user:email\",\r\n  allow_signup: true,\r\n};\r\n\r\nconst linked_in_option = {\r\n  client_id: \"YOUR_CLIENT_ID\",\r\n  redirect_uri: \"YOUR_REDIRECT_URL\",\r\n  scope: \"r_liteprofile r_emailaddress w_member_social\",\r\n  response_type: \"code\",\r\n};\r\n\r\nexport { facebook_options, google_options, github_option, linked_in_option };\r\n","import { google_options, facebook_options, github_option, linked_in_option } from \"../utils/clientOauthOptionHelper\";\r\n\r\nfunction getClientSideOauthOption(platform) {\r\n  if (typeof platform !== \"string\") return facebook_options;\r\n  platform = platform.toLowerCase();\r\n  switch (platform) {\r\n    case \"facebook\":\r\n      return facebook_options;\r\n    case \"google\":\r\n      return google_options;\r\n    case \"github\":\r\n      return github_option;\r\n    case \"linkedin\":\r\n      return linked_in_option;\r\n    default:\r\n      return facebook_options;\r\n  }\r\n}\r\n\r\nexport default getClientSideOauthOption;\r\n","import queryString from \"query-string\";\r\n\r\nfunction parseUrl(url) {\r\n  const parsedQuery = queryString.parse(url);\r\n  return parsedQuery;\r\n}\r\n\r\nexport default parseUrl;\r\n","import axios from \"axios\";\r\n\r\nfunction getFacebookAccessToken(params) {\r\n  return axios({\r\n    url: \"https://graph.facebook.com/oauth/access_token\",\r\n    method: \"get\",\r\n    params,\r\n  });\r\n}\r\n\r\nfunction getGoogleAccessToken(params) {\r\n  return axios({\r\n    url: `https://oauth2.googleapis.com/token`,\r\n    method: \"post\",\r\n    data: { grant_type: \"authorization_code\", ...params },\r\n  });\r\n}\r\n\r\nfunction getLinkedinAccessToken(params) {\r\n  return axios({\r\n    url: `https://www.linkedin.com/oauth/v2/accessToken`,\r\n    method: \"post\",\r\n    data: { grant_type: \"authorization_code\", ...params },\r\n  });\r\n}\r\n\r\nfunction getGithubAccessToken(params) {\r\n  return axios({\r\n    url: \"https://github.com/login/oauth/access_token\",\r\n    method: \"get\",\r\n    params,\r\n  });\r\n}\r\n\r\nfunction getAccessToken(platform, params) {\r\n  if (typeof platform !== \"string\") throw \"Platform must be a string\";\r\n  platform = platform.toLowerCase();\r\n  switch (platform) {\r\n    case \"facebook\":\r\n      return getFacebookAccessToken(params);\r\n    case \"google\":\r\n      return getGoogleAccessToken(params);\r\n    case \"github\":\r\n      return getGithubAccessToken(params);\r\n    case \"linkedin\":\r\n      return getLinkedinAccessToken(params);\r\n    default:\r\n      throw \"Platform value not supported\";\r\n  }\r\n}\r\n\r\nexport default getAccessToken;\r\n\r\n/*\r\nParams Body \r\n{\r\n  client_id: process.env.APP_ID_GOES_HERE,\r\n  client_secret: process.env.APP_SECRET_GOES_HERE,\r\n  redirect_uri: \"https://www.example.com/authenticate/facebook/\",\r\n  code,\r\n}\r\n*/\r\n","import axios from \"axios\";\r\n\r\nfunction getGitHubUserData(access_token) {\r\n  return axios({\r\n    url: \"https://api.github.com/user\",\r\n    method: \"get\",\r\n    headers: {\r\n      Authorization: \"token \" + access_token,\r\n    },\r\n  });\r\n}\r\n\r\nfunction getFacebookUserData(access_token, fields) {\r\n  return axios({\r\n    url: \"https://graph.facebook.com/me\",\r\n    method: \"get\",\r\n    params: {\r\n      fields: fields ? fields : \"id,email,first_name,last_name\",\r\n      access_token,\r\n    },\r\n  });\r\n}\r\n\r\nfunction getGoogleUserData(access_token) {\r\n  return axios({\r\n    url: \"https://www.googleapis.com/oauth2/v2/userinfo\",\r\n    method: \"get\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + access_token,\r\n    },\r\n  });\r\n}\r\n\r\nfunction getLinkedinUserData(access_token) {\r\n  return axios({\r\n    url: \"https://api.linkedin.com/v2/me\",\r\n    method: \"get\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + access_token,\r\n    },\r\n  });\r\n}\r\n\r\nfunction getUserData(platform, access_token, params = false) {\r\n  if (typeof platform !== \"string\") throw \"Platform must be a string\";\r\n  platform = platform.toLowerCase();\r\n  switch (platform) {\r\n    case \"facebook\":\r\n      return getFacebookUserData(access_token, params);\r\n    case \"google\":\r\n      return getGoogleUserData(access_token);\r\n    case \"github\":\r\n      return getGitHubUserData(access_token);\r\n    case \"linkedin\":\r\n      return getLinkedinUserData(access_token);\r\n    default:\r\n      throw \"Platform value not supported\";\r\n  }\r\n}\r\n\r\nexport default getUserData;\r\n","import getOauthUrl from \"./methods/getOauthUrl\";\r\nimport getClientSideOauthOption from \"./methods/getClientSideOauthOption\";\r\nimport parseUrl from \"./methods/parseUrl\";\r\nimport getAccessToken from \"./methods/getAccessToken\";\r\nimport getUserInfo from \"./methods/getUserInfo\";\r\n\r\nconst socialAuthNp = { getOauthUrl, getClientSideOauthOption, parseUrl, getAccessToken, getUserInfo };\r\n\r\nexport default socialAuthNp;\r\n"],"names":["facebook_oauth_url","google_oauth_url","github_oauth_url","linked_in_oauth_url","getGoogleOauthUrl","options","stringifiedParams","queryString","stringify","getFacebookOauthUrl","getGithubOauthUrl","getLinkedInOauthUrl","getOauthUrl","platform","toLowerCase","facebook_options","client_id","redirect_uri","scope","response_type","google_options","access_type","prompt","github_option","allow_signup","linked_in_option","getClientSideOauthOption","parseUrl","url","parsedQuery","parse","getFacebookAccessToken","params","axios","method","getGoogleAccessToken","data","grant_type","getLinkedinAccessToken","getGithubAccessToken","getAccessToken","getGitHubUserData","access_token","headers","Authorization","getFacebookUserData","fields","getGoogleUserData","getLinkedinUserData","getUserData","socialAuthNp","getUserInfo"],"mappings":"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"}